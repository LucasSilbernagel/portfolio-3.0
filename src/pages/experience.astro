---
import Layout from '../layouts/Layout.astro'
import Header from '../components/Header.astro'
import PageWrapper from '../components/PageWrapper.astro'
import PageHeader from '../components/PageHeader.astro'
import { Icon } from 'astro-icon/components'

type Experience = {
  company: string
  period: string
  title: string
  location: string
  website: string
  highlights: string[]
}

const experiences: Experience[] = [
  {
    company: 'theScore',
    period: 'March 2025 - present',
    title: 'Senior Software Engineer',
    location: 'Toronto, Canada',
    website: 'https://www.scoremediaandgaming.com/',
    highlights: [
      'Drove accelerated market entry for theScore Casino web application, launching the product two months ahead of schedule, which involved end-to-end setup of the new app theme, Google Tag Manager, visual regression testing, and build pipeline updates.',
      'Spearheaded development for high-value casino features including the complex In-House Jackpots system, introducing the Rive animation framework to the repository, and developing the animated cash rolodex component for the lobby.',
      'Led or collaborated on multiple major features concurrently, consistently delivering on aggressive deadlines and navigating unexpected technical obstacles to achieve successful project completion.',
      'Enhanced web platform scalability and developer velocity by writing and presenting several RFCs to establish architectural improvements, including proposals to take advantage of more of the performance-enhancing features provided by Next.js.',
      'Improved application stability and user experience by architecting a new theme testing strategy across standalone casino products and implementing a centralized persistence management solution for one-time user messages (e.g., tooltips and modals).',
    ],
  },
  {
    company: 'theScore',
    period: 'March 2024 - March 2025',
    title: 'Software Developer',
    location: 'Toronto, Canada',
    website: 'https://www.scoremediaandgaming.com/',
    highlights: [
      'Led the web development effort for the Hollywood Casino application launch on Next.js, resulting in a deployment six weeks ahead of schedule and enabling immediate revenue generation.',
      'Engineered critical casino promo credits features, including the order of funds selection modal, Available Rewards section, and account settings integration, achieving feature parity with competitors.',
      'Improved technical visibility and operations by creating a Casino Client Page Load Performance dashboard in Datadog and consolidating performance metrics, while personally handling multiple non-production and production deployments.',
      'Spearheaded documentation and cross-functional coordination by writing a technical RFC and ticket planning document to align web, infrastructure, DevOps, and platform teams for the standalone casino project.',
      'Championed web accessibility and development standards by working on features like animated game card focus states and refactoring CI pipeline configuration to enable visual regression and accessibility testing for new applications such as Hollywood Casino.',
    ],
  },
  {
    company: 'Xanadu',
    period: 'January 2023 - March 2024',
    title: 'Software Developer II',
    location: 'Toronto, Canada',
    website: 'https://xanadu.ai/',
    highlights: [
      'Enhanced the Xanadu.ai website by implementing server-side rendering, image optimization, and several new pages, while leveraging Shopify APIs to seamlessly integrate the Xanadu merchandise shop into the website.',
      'Drove the front-end work for a refresh of the quantum hackathon software challenge dashboard.',
      'Migrated the PennyLane.ai website from a Python templating system to a modern development framework using Gatsby, React, TypeScript, and Tailwind.',
      'Led front-end development of the Generic Datasets project for visualizing and interacting with quantum datasets, covering scoping, requirements gathering, and implementation.',
    ],
  },
  {
    company: 'Xanadu',
    period: 'April 2022 - December 2022',
    title: 'Front-End Developer',
    location: 'Toronto, Canada',
    website: 'https://xanadu.ai/',
    highlights: [
      'Led a company-wide accessibility audit and advocated for compliance with web accessibility best practices.',
      'Co-created a reusable component library built with React, TypeScript, Tailwind, and Storybook.',
      "Developed key features of Xanadu's quantum hackathon software with React, TypeScript, Tailwind, and GraphQL.",
    ],
  },
  {
    company: 'CarbonCure Technologies',
    period: 'March 2021 - April 2022',
    title: 'Front-End Developer',
    location: 'Toronto, Canada (remote)',
    website: 'https://www.carboncure.com/',
    highlights: [
      "Responsible for planning, building, testing, and improving CarbonCure's internal suite of software applications.",
      'Served as lead developer of two key projects built with React, TypeScript, and MUI, incorporating map layers, tables, and other data visualizations.',
      'Published release notes and performed live and pre-recorded product demos for stakeholders.',
    ],
  },
  {
    company: 'Greenpeace Canada',
    period: 'July 2020 - February 2021',
    title: 'Front-End Developer',
    location: 'Toronto, Canada',
    website: 'https://www.greenpeace.org/canada/en/',
    highlights: [
      'Maintained and improved the Greenpeace Canada website using WordPress, HTML, CSS, and JavaScript.',
      "Developed petition pages, donation pages, and emails using Greenpeace Canada's advocacy tools.",
      'Managed relationships with external designers, developers, and internal end users.',
    ],
  },
]

const ANIMATION_DELAY_STEP_MS = 120
---

<Layout title="Lucas Silbernagel | Experience">
  <Header showBackButton={true} />
  <PageWrapper>
    <div class="mx-auto max-w-4xl">
      <PageHeader title="Professional Experience" class="mt-4" />

      <ol
        class="timeline-list mx-auto mt-16 max-w-5xl space-y-16"
        aria-label="Professional experience timeline"
      >
        {
          experiences.map((experience, index) => (
            <li
              class="timeline-item group grid gap-6 sm:grid-cols-[4rem_1fr]"
              style={`--timeline-delay: ${index * ANIMATION_DELAY_STEP_MS}ms`}
            >
              <div
                class="relative flex flex-col items-center"
                aria-hidden="true"
              >
                <span
                  class={`w-px flex-1 ${
                    index === 0 ? 'bg-transparent' : 'bg-terminal-blue/40'
                  }`}
                />
                <span class="mt-0 flex h-6 w-6 items-center justify-center rounded-full border-[3px] border-terminal-dark-gray bg-terminal-yellow shadow-[0_0_0_8px_rgba(0,102,204,0.35)] transition-transform duration-300 group-focus-within:scale-105 group-hover:scale-105" />
                <span
                  class={`w-px flex-1 ${
                    index === experiences.length - 1
                      ? 'bg-transparent'
                      : 'bg-terminal-blue/40'
                  }`}
                />
              </div>

              <div class="experience-card relative overflow-hidden rounded-2xl border-4 border-terminal-blue bg-white/95 p-6 text-left text-terminal-dark-gray shadow-[0_25px_60px_rgba(15,23,42,0.4)] backdrop-blur-md transition-shadow duration-300 group-focus-within:shadow-[0_25px_70px_rgba(15,23,42,0.55)] group-hover:shadow-[0_25px_70px_rgba(15,23,42,0.55)]">
                <header class="flex flex-col gap-4 sm:flex-row sm:items-start sm:justify-between">
                  <div>
                    <a
                      href={experience.website}
                      class="inline-flex items-center gap-2 font-terminal text-lg uppercase tracking-[0.20em] text-terminal-dark-gray transition-colors hover:text-terminal-blue focus-visible:text-terminal-blue focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-terminal-blue"
                      target="_blank"
                      rel="noreferrer"
                    >
                      {experience.company} <Icon name="mdi:external-link" />
                    </a>
                    <h2 class="mt-2 text-2xl font-bold text-terminal-dark-gray sm:text-3xl">
                      {experience.title}
                    </h2>
                  </div>
                  <div class="flex flex-col text-sm text-terminal-dark-gray/80 sm:items-end">
                    <span class="font-semibold text-terminal-blue">
                      {experience.period}
                    </span>
                    <span>{experience.location}</span>
                  </div>
                </header>

                <ul
                  class="mt-6 space-y-3 text-base leading-relaxed"
                  role="list"
                >
                  {experience.highlights.map((highlight) => (
                    <li class="flex gap-3">
                      <span class="mt-2 h-2 w-2 flex-shrink-0 rounded-full bg-terminal-blue" />
                      <p>{highlight}</p>
                    </li>
                  ))}
                </ul>
              </div>
            </li>
          ))
        }
      </ol>
    </div>
  </PageWrapper>
</Layout>

<style>
  .timeline-list {
    position: relative;
  }

  .timeline-item {
    opacity: 0;
    transform: translateY(24px) translateZ(0);
    animation: timelineFadeIn 0.8s ease-out forwards;
    animation-delay: var(--timeline-delay, 0ms);
    /* Optimize rendering during scroll */
    will-change: transform, opacity;
    backface-visibility: hidden;
  }

  @keyframes timelineFadeIn {
    from {
      opacity: 0;
      transform: translateY(24px) translateZ(0);
    }

    to {
      opacity: 1;
      transform: translateY(0) translateZ(0);
    }
  }

  @media (prefers-reduced-motion: reduce) {
    .timeline-item {
      animation: none;
      opacity: 1;
      transform: none;
    }

    .timeline-item span,
    .experience-card,
    .experience-card a {
      transition: none;
    }

    .timeline-item span:hover,
    .timeline-item span:focus,
    .experience-card:hover,
    .experience-card:focus {
      transform: none;
    }
  }

  .experience-card {
    /* Force GPU acceleration and prevent rendering artifacts during scroll */
    transform: translateZ(0);
    will-change: transform, opacity;
    /* Isolate rendering to prevent backdrop blur artifacts */
    isolation: isolate;
    /* Ensure proper compositing */
    backface-visibility: hidden;
  }
</style>
