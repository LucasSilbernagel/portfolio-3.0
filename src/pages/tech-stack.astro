---
import Layout from '../layouts/Layout.astro'
import Header from '../components/Header.astro'

const ANIMATION_DELAY_MS = 100
const INITIAL_ANIMATION_DELAY = 2

const techStack = [
  {
    category: 'Languages',
    items: ['HTML', 'CSS', 'JavaScript', 'TypeScript'],
  },
  {
    category: 'Libraries and frameworks',
    items: ['React', 'Next.js', 'Gatsby', 'Remix', 'Astro'],
  },
  {
    category: 'State management',
    items: [
      'React Context',
      'Zustand',
      'Apollo Client',
      'TanStack Query',
      'etc.',
    ],
  },
  {
    category: 'Styling and component libraries',
    items: ['Tailwind CSS', 'MUI', 'shadcn/ui', 'etc.'],
  },
  {
    category: 'Data',
    items: ['REST APIs', 'GraphQL APIs'],
  },
  {
    category: 'Backend',
    items: ['Node.js', 'Express', 'Apollo Server', 'MongoDB', 'Firebase'],
  },
  {
    category: 'Content management',
    items: ['Sanity', 'Strapi', 'Shopify', 'WordPress'],
  },
  {
    category: 'Software testing',
    items: ['Jest', 'React Testing Library', 'Vitest', 'Playwright', 'etc.'],
  },
]
---

<Layout title="Lucas Silbernagel | Tech Stack">
  <Header showBackButton={true} />
  <div
    class="bg-gradient-to-br from-slate-900 via-blue-900 to-slate-800 min-h-screen"
  >
    <div
      class="z-10 relative mx-auto px-4 sm:px-8 py-12 min-h-screen container"
    >
      <div class="mb-12 text-center">
        <h1 class="mb-4 font-bold text-white text-4xl md:text-5xl fade-in-1">
          Tech Stack
        </h1>
      </div>

      <div class="mx-auto max-w-4xl">
        <div class="p-2 sm:p-5 kiosk-tile fade-in-2">
          <div class="overflow-x-auto">
            <table class="w-full border-collapse">
              <thead>
                <tr class="border-terminal-blue border-b-2">
                  <th
                    class="px-4 sm:px-6 py-4 font-bold text-terminal-dark-gray text-lg text-left"
                  >
                    Category
                  </th>
                  <th
                    class="px-4 sm:px-6 py-4 font-bold text-terminal-dark-gray text-lg text-left"
                  >
                    Technologies
                  </th>
                </tr>
              </thead>
              <tbody>
                {
                  techStack.map((item, index) => (
                    <tr
                      class="hover:bg-gray-50 border-gray-300 border-b-2 transition-colors"
                      style={`animation-delay: ${(index + INITIAL_ANIMATION_DELAY) * ANIMATION_DELAY_MS}ms`}
                    >
                      <td class="px-4 sm:px-6 py-4 font-semibold text-terminal-dark-gray">
                        {item.category}
                      </td>
                      <td class="px-4 sm:px-6 py-4 text-terminal-dark-gray">
                        <div class="flex flex-wrap gap-2">
                          {item.items.map((tech) => (
                            <span class="inline-block bg-terminal-blue px-4 py-2 rounded-md font-medium text-white text-sm">
                              {tech}
                            </span>
                          ))}
                        </div>
                      </td>
                    </tr>
                  ))
                }
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</Layout>

<style>
  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Respect reduced motion preferences */
  @media (prefers-reduced-motion: reduce) {
    .fade-in-1,
    .fade-in-2,
    tr {
      animation: none;
      opacity: 1;
      transform: none;
    }
  }

  /* Fade-in animations with staggered delays */
  .fade-in-1 {
    opacity: 0;
    animation: fadeIn 0.6s ease-out forwards;
    animation-delay: 0ms;
  }

  .fade-in-2 {
    opacity: 0;
    animation: fadeIn 0.6s ease-out forwards;
    animation-delay: 300ms;
  }

  .kiosk-tile {
    padding: 0;
  }

  tbody tr {
    opacity: 0;
    animation: fadeIn 0.4s ease-out forwards;
    border-bottom: 2px solid #d1d5db;
  }

  tbody tr:last-child {
    border-bottom: none;
  }

  /* Ensure badge styles are applied */
  td span.inline-block {
    display: inline-block;
    padding: 0.5rem 1rem;
    background-color: #0066cc;
    color: white;
    border-radius: 0.375rem;
    font-size: 0.875rem;
    font-weight: 500;
  }
</style>
